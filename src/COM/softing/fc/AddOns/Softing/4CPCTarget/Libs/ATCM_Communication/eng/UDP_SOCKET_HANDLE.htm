<html>
<head>
<title>UDP_SOCKET_HANDLE</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link rel="stylesheet" href="Lib.css"></head>

<body bgcolor="#FFFFCC">
<h2>UDP_SOCKET_HANDLE </h2>
<p>Represents a socket used for carrying out data transfer operations.</p>
<h3>Interface definition</h3>
<pre class="preforma">TYPE
    UDP_SOCKET_HANDLE : STRUCT
        LocalPort         : DInt;      
        LocalAddr         : WString;   
        LastPartnerPort   : DInt;      
        LastPartnerAddr   : WString;   
        LastCmd           : DInt;      
        LastError         : Bool;         
        LastErrorNr       : DInt;      
        LastErrorString   : WString;
        BroadcastSocket   : Bool;
    END_STRUCT;
END_TYPE
</pre>
<h3>Structure elements</h3>
<p><b>LocalPort</b></p>
<p>Value of type <i><b>DINT</b></i> <br>
  Defines the port number used by the local host. The port specified under this 
  number is generated with an instance of <i><b>UDP_CONNECT</b></i> when a connection 
  is being established. Numbers from 1025 on can be distributed freely. Numbers 
  up to 1024 are partially reserved for services like FTP for example. </p>
<p><b>LocalAddr </b></p>
<p>Value of type <i><b>WSTRING</b></i> <br>
  Contains the host name of the local host.<b> </b> </p>
<p><b>LastPartnerPort </b></p>
<p>Value of type <i><b>DINT</b></i> <br>
  Contains the port number of the last port that received a message by a communication 
  partner. </p>
<p><b>LastPartnerAddr</b></p>
<p>Value of type <i><b>WSTRING</b></i><br>
  Contains the IP-Adress of the last host from which a message was received. </p>
<p><b>LastCmd</b></p>
<p>Value of type <i><b>DINT</b></i> <br>
  Contains the number of the last operation carried out on a socket represented 
  by an instance of<i><b> UDP_SOCKET_HANDLE</b></i>. <br>
  Possible values are defined within the <a href="ConstCmd.htm">UDP-command constants</a>.</p>
<p><b>LastError</b></p>
<p>Value of type <i><b>BOOL</b></i> <br>
  Indicates if an error occurred during the last operation carried out on a socked 
  represented by an instance of<i><b> UDP_SOCKET_HANDLE</b></i>.<br>
  Possible values:<br>
  <b><i>TRUE</i></b>: An error occurred.<br>
  <b><i>FALSE</i></b>: No error occurred. </p>
<p><b>LastErrorNr</b></p>
<p>Value of type <i><b>DINT</b></i><br>
  Contains an error number, if an error occurred during the last operation carried 
  out on a socked represented by an instance of<i><b> UDP_SOCKET_HANDLE</b></i>. 
  <br>
  If no error occurred, this structure variable has the value 0.<br>
  Posible values are defined within the <a href="ConstUDPErr.htm">UDP-error constants</a>.</p>
<p><b>LastErrorString</b></p>
<p>Value of type <i><b>WSTRING</b></i><br>
  Contains an error description, if an error occurred during the last operation 
  carried out on a socked represented by an instance of<i><b> UDP_SOCKET_HANDLE</b></i>. 
  This structure variable contains an empty string if no error occurred. </p>
<p><b>BroadcastSocket</b></p>
<p>Value of type <b><i>BOOL</i></b><br>
  Defines whether broadcast is possible via the socket represented by an instance 
  of <i><b>UDP_SOCKET_HANDLE</b></i> or not. Use the adress <b>255.255.255.255</b> 
  in order to perform a broadcast with an instance of <i><b><a href="UDP_USEND.htm">UDP_USEND</a></b></i>. 
  This adress is already reserved for broadcasts. <br>
  Possible values:<br>
  <b><i>TRUE</i></b>: Broadcast can be performed.<br>
  <b><i>FALSE</i></b>: Broadcast can not be performed. </p>
<h3>Description</h3>
<p>An instance of the structure <i><b>UDP_SOCKET_HANDLE</b></i> represents a socket. 
</p>
<p>In order to enable the data transfer via the socket, the socket has to be initialized 
  by a calling an instance of <i><b><a href="UDP_CONNECT.htm">UDP_CONNECT</a></b></i>.</p>
<p>Before being initialized, the socket has to be connected to a port. To do this, 
  the adress of the port is assigned to the structure element <i><b>LocalPort</b></i> 
  of <i> <b>UDP_SOCKET_HANDLE</b></i>. Port number from 1025 on should be assigned, 
  because lower numbers are eventually reserved for services like FTP. By passing 
  the value 0 to <i><b>LocalPort</b></i>, the socket implementation is caused 
  to search for a free port adress. </p>
<p>The parameter <i><b>BroadcastSocket </b></i> has to be initialized only if 
  the socket is to be used for performing broadcasts. For this, this structure 
  variable has to be initialized with <i><b>TRUE</b></i>. It is not possible to 
  pass the adress of a certain host to the instance of <a href="UDP_USEND.htm"><b><i>UDP_USEND</i></b></a> 
  sending this message, since a broadcast sends a message to all hosts connected. 
  Therefore the adress '255.255.255.255' is passed to the parameter <i><b>PARTNER_ADDR</b></i> 
  of <i><b>UDP_USEND</b></i> when a message is sent to all hosts.</p>
<p>All other parameters don&acute;t have to be initialized because they serve 
  the evaluation of connection data and error status of operations carried out 
  on the socket. These values are set automatically after the execution of each 
  operation.</p>
</body>
</html>
