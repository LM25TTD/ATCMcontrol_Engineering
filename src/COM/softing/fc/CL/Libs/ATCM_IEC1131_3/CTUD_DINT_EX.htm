<html>
<head>
<title>CTUD_DINT_EX</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link rel="stylesheet" href="Lib.css"></head>

<body bgcolor="#FFFFCC">
<h2>CTUD_DINT_EX</h2>
<p>Up/down counter for rising edges with additional visualization functionality. 
</p>
<h3>Interface definition</h3>
<pre class="preforma">FUNCTION_BLOCK CTUD_DINT_EX
VAR_INPUT 
    CU         : BOOL R_EDGE; 
    CD         : BOOL R_EDGE; 
    R          : BOOL;        
    LD         : BOOL;        
    PV         : DINT;        
END_VAR
VAR_INPUT 
    SCALEMIN   : DINT:=0;     
    SCALEMAX   : DINT:=100;   
END_VAR
VAR_OUTPUT 
    QU         : BOOL;        
    QD         : BOOL;        
    CV         : DINT;        
    ERROR      : DINT;       
END_VAR</pre>
<h3>Parameter</h3>
<h3>INPUT</h3>
<dl> 
  <dt><b>CU</b></dt>
  <dd>Value of type <i><b>BOOL </b></i>mit dem Attribut<b> <i>R_EDGE</i></b><i><b><br>
    </b></i> Input signal that is evaluated for edge detection. Increments <i><b>CV</b></i> 
    on detection of a rising edge.</dd>
  <dt><b>CD<br>
    </b></dt>
  <dd>Value of type <i><b>BOOL</b></i> mit dem Attribut <b><i>R_EDGE<br>
    </i></b> Input signal that is evaluated for edge detection. Decrements <i><b>CV</b></i> 
    on detection of a rising edge.<b><i> </i></b></dd>
  <dt><b>R</b></dt>
  <dd>Value of type <i><b>BOOL<br>
    </b></i>Resets the edge counter<b> <i>CV</i></b> to zero if <i><b>TRUE</b></i>.</dd>
  <dt><b>LD</b></dt>
  <dd>Value of type <i><b>BOOL<br>
    </b></i>Resets the edge counter <i><b>CV</b></i> to the value of <i><b>PV</b></i> 
    if <i><b>TRUE</b></i>.</dd>
  <dt><b>PV</b></dt>
  <dd>Value of type <i><b>DINT<br>
    </b></i>Value to which the counter variable <i><b>CV</b></i> is set if <i><b>LD</b></i> 
    is <i><b>TRUE</b></i>.</dd>
  <dt><b>SCALEMIN</b></dt>
  <dd>Value of type<b> <i>DINT</i></b><i><br>
    </i><i></i>Determines the lower value for the visualization scale. The default 
    value is <i><b>0</b></i>.</dd>
  <dt><b>SCALEMAX</b></dt>
  <dd>Value of type <i><b>DINT</b></i><b><i><br>
    </i></b>Determines the upper value for the visualization scale. The default 
    value is <i><b>100</b></i>.<b><i> </i></b></dd>
</dl>
<h3>OUTPUT</h3>
<dl> 
  <dt><b></b><b>QU</b></dt>
  <dd>Value of type <b><i>BOOL</i></b><br>
    Flag that is set to<b> <i>TRUE</i></b> when the counter variable<b> <i>CV</i></b> 
    reaches a value<b> <i>&gt;=</i> <i>PV</i></b>. </dd>
  <dt><b>QD</b> </dt>
  <dd>Value of type <i><b>BOOL<br>
    </b></i> Flag that is set to <i><b>TRUE</b></i> when the counter variable 
    <i><b>CV</b></i> reaches a value<b> <i>&lt;=0</i></b>. </dd>
  <dt><b>CV</b></dt>
  <dd>Value of type <b><i>DINT<br>
    </i></b> Up/Down counter for rising edges. </dd>
  <dt><b>ERROR</b></dt>
  <dd>Value of type <b><i>DINT</i></b>. <br>
    Yields the value <i><b>0</b></i><b> </b>if no error occurred. An error number 
    <b><i>&lt;&gt; 0</i></b> is returned if an error occurred during visualization. 
    In the current version of <i><b>4CONTROL</b></i>, only the event that the 
    current value of <i><b>SCALEMIN</b> <b>&gt;= SCALEMAX</b></i> is encountered 
    is evaluated as a visualization error. <b></b></dd>
  <dt>&nbsp; </dt>
</dl>
<h3>Description</h3>
<p>Up/Down counter for rising edges. Counts the rising edges at the two inputs 
  <i><b>CU</b></i> and<b> <i>CD</i></b> in the counter variable <i><b>CV</b></i>. 
  If <i><b>CU</b></i> is <i><b>TRUE</b></i>, <i><b>CV</b></i> is incremented whereas, 
  if <i><b>CD</b></i> is <i><b>TRUE</b></i>, <i><b>CV</b></i> is decremented. 
  If both inputs are <i><b>TRUE</b></i> during the same call cycle, the value 
  of <i><b>CV</b></i> remains unchanged. <br>
  If the value of <i><b>CV &gt;= PV</b></i>, <i><b>QU</b></i> is set to <i><b>TRUE</b></i> 
  whereas, if <i><b>PV &lt;= 0</b></i>, <i><b>QD</b></i> is set to <i><b>TRUE</b></i>.</p>
<p><b><i>CTUD_DINT_EX</i></b> is the extended version of the function block <b><i>CTUD_DINT</i></b>. 
  As additional parameters, this function block features the two inputs<i><b> 
  SCALEMIN</b></i> and <b><i>SCALEMAX</i></b>, which can be used for setting the 
  scale of values of a bar chart represented in the faceplate, and the output 
  <b><i>ERROR</i></b>, which returns an error code if a visualization error occurred. 
</p>
</body>
</html>
