<html>
<head>
<title>CTU_DINT_EX</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link rel="stylesheet" href="Lib.css"></head>

<body bgcolor="#FFFFCC">
<h2>CTU_DINT_EX</h2>
<p>Counts rising edges. Includes an additional visualization functionality.<br>
</p>
<h3>Interface definition</h3>
<pre class="preforma">FUNCTION_BLOCK CTU_DINT_EX
VAR_INPUT  
    CU         : BOOL R_EDGE; 
    R          : BOOL;        
    PV         : DINT;        
END_VAR
VAR_INPUT  
    SCALEMIN   : DINT:=0;     
    SCALEMAX   : DINT:=100;  
END_VAR
VAR_OUTPUT 
    Q          : BOOL;        
    CV         : DINT;       
    ERROR      : DINT;        
END_VAR</pre>
<h3>Parameters</h3>
<h3>INPUT</h3>
<dl> 
  <dt><b>CU</b></dt>
  <dd>Value of type <i><b>BOOL </b></i>with the attribute<b> <i>R_EDGE</i></b><i><b><br>
    </b></i>Input signal that is evaluated for edge detection.</dd>
  <dt><i><b> </b></i></dt>
  <dt><b>R</b></dt>
  <dd>Value of type <i><b>BOOL<br>
    </b></i>Resets the edge counter<b> <i>CV</i></b> to zero if <i><b>TRUE</b></i>.</dd>
  <dt><b>PV</b></dt>
  <dd>Value of type <i><b>DINT<br>
    </b></i>Determines a maximum value for the counter variable<b> <i>CV</i></b>; 
    on reaching the maximum value, the output variable <i><b>Q</b></i> is set 
    to<b> <i>TRUE</i></b>. This value has no effect on the counter variable <i><b>CV</b></i> 
    itself..</dd>
  <dt><b>SCALEMIN</b></dt>
  <dd>Value of type <b><i>DINT</i></b> <br>
    Determines the lower value for the visualization scale. The default value 
    is <i><b>0</b></i>.</dd>
  <dt><b>SCALEMAX</b></dt>
  <dd>Value of type <i><b>DINT<br>
    </b></i>Determines the upper value for the visualization scale. The default 
    value is<b> <i>100</i></b>.<i><b> </b></i></dd>
</dl>
<h3>OUTPUT</h3>
<dl> 
  <dt><b></b><b>Q</b></dt>
  <dd>Value of type <b><i>BOOL</i></b><br>
    Flag that is set to <i><b>TRUE</b></i><b> </b>when the counter variable<b> 
    <i>CV</i> </b>reaches or exceeds the maximum value defined in <i><b>PV</b></i>.</dd>
  <dt><b>CV</b></dt>
  <dd>Value of type <b><i>DINT<br>
    </i></b> Counts rising edges at input<i><b> <i>CU</i></b></i>. </dd>
  <dt><b>ERROR</b></dt>
  <dd>Value of type <i><b>DINT<br>
    </b></i> Yields the value <i><b>0</b></i> if no error occurred. An error number 
    <b><i>&lt;&gt; 0</i></b> is returned if an error occurred during visualization. 
    In the current version of<i><b> ATCMControl</b></i>, only the event that the 
    current value of <i><b>SCALEMIN</b> <b>&gt;= SCALEMAX</b></i> is encountered 
    is evaluated as a visualization error. <br>
    <br>
  </dd>
</dl>
<h3>Description</h3>
<p>This function block counts the rising edges at the input signal<b> <i>CU</i></b> 
  and saves the count to the counter variable <i><b>CV</b></i>. The counter variable 
  is reset to zero when the flag <i><b>R</b></i> is set to<b> <i>TRUE</i></b>. 
  This flag is not reset automatically. If counting is to be restarted after the 
  reset, the flag must be reset to <i><b>FALSE</b></i> beforehand. The variable 
  <i> <b>Q</b></i> is set to <i><b>TRUE</b></i><b> </b>when <i><b>CV</b></i> reaches 
  or exceeds the value set in <i><b>PV</b></i>. </p>
<p><b><i>CTU_DINT_EX</i></b> is the extended version of the function block <b><i>CTU_DINT</i></b>. 
  As additional parameters, this function block features the two inputs <b><i>SCALEMIN</i></b> 
  and <b><i>SCALEMAX</i></b>, which can be used for setting the scale of values 
  of a bar chart represented in the faceplate, and the output <b><i>ERROR</i></b>, 
  which returns an error code if a visualization error occurred. </p>
</body>
</html>
