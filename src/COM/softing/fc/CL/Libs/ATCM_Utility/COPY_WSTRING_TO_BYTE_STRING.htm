<html>
<head>
<title>COPY_WSTRING_TO_BYTESTRING </title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link rel="stylesheet" href="Lib.css"></head>

<body bgcolor="#FFFFCC">
<h2>COPY_WSTRING_TO_BYTE_STRING </h2>
<p>Writes a value of type <i><b>WSTRING</b></i> to a defined position within a 
  bytestring.</p>
<h3>Interface definition</h3>
<pre class="preforma">FUNCTION COPY_WSTRING_TO_BYTE_STRING
    VAR_INPUT
        VALUE : WSTRING;
    END_VAR
    VAR_IN_OUT
        POS : DINT;
        BSTR : BYTE_STRING;
    END_VAR</pre>
<h3>Parameters</h3>
<h3>INPUT</h3>
<dl> 
  <dt><b>VALUE</b></dt>
  <dd>Value of type <i><b>WSTRING</b></i><br>
    Value to be inserted into the bytestring at the position passed in <b><i>POS</i></b>.</dd>
</dl>
<h3>IN_OUT</h3>
<dl> 
  <dt><b>POS</b></dt>
  <dd>Value of type <i><b>DINT</b></i><br>
    Specifies the position at which the value passed to <i><b>VALUE</b></i> is 
    to be inserted. Counting starts from 0 on for the first position within the 
    bytestring and is carried out in the unit bytes. <br>
    After the operation has been carried out successfully, <b><i>POS</i></b> is overwritten with the value of the first position in the bytestring that follows the last byte written. If the operation was a failure, <b><i>POS</i></b> has the value -1. </dd>
  <dt><b>BSTR</b></dt>
  <dd>Instance of the structure <i><b><a href="BYTE_STRING.htm">BYTE_STRING</a></b></i><br>
    Bytestring to which a value is to be written.</dd>
</dl>
<h3>Description</h3>
<p><b><i>COPY_WSTRING_TO_BYTE_STRING </i></b>writes at the position passed in 
  <i><b>POS</b></i> a value of type <i><b>WSTRING </b></i> into the bytestring 
  passed to <i><b>BSTR.</b></i> Values located in the bytestring at the position 
  specified in <i><b>POS</b></i> are overwritten with the value specified in <i><b>VALUE</b></i>. 
</p>
<p>If the bytestring passed is to small to incorporate  the value passed in <b><i>VALUE</i></b>, or if the position, at which the value is to be inserted, is greater than the actual length of the bytestring, the bytestring is extended to the minimal size needed.</p>
<p>In contrast to the function<b><i> <b>BYTE_INIT</b></i></b>, which is also included 
  in the <i><b>ATCM_Communication</b></i> library,<b><i><b> </b>COPY_WSTRING_TO_BYTE_STRING</i></b> 
  supports the correct interpretation of umlauts. For this reason, use <i><b> 
  COPY_WSTRING_TO_BYTE_STRING</b></i> in order to write strings to textfiles with 
  function blocks of the <b><i>ATCM_FileAccess</i></b> library. On the other side, 
  the function <a href="BYTE_STRING_INIT.htm"><i><b>BYTE_STRING_INIT</b></i></a> 
  should be used for initializing bytestrings at serial communication, as only 
  this function can write binary values into a bytestring in addition to text 
  in order to place protocol commands.</p>
</body>
</html>
